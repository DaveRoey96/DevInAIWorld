# 从"写代码"到"系统设计"

> 初级写代码，高级做设计。

## 为什么需要系统设计

### AI 时代的变化

| 以前 | 现在 |
|-----|-----|
| 写代码是核心技能 | AI 也能写代码 |
| 会写功能就能工作 | 需要知道为什么这样设计 |
| 面向对象编程 | 面向问题解决 |
| 技术导向 | 业务导向 |

### 系统设计不可替代

- **AI 不会**：理解业务、权衡利弊、预判未来
- **AI 不会**：做技术决策（因为需要经验）
- **AI 不会**：处理人的问题（政治、协作）

---

## 什么是系统设计

### 定义

系统设计 = 把业务需求转化为可执行的技术方案

### 核心要素

1. **理解需求**
   - 业务背景
   - 用户场景
   - 约束条件

2. **技术选型**
   - 语言/框架
   - 存储方案
   - 架构模式

3. **详细设计**
   - API 设计
   - 数据模型
   - 模块划分

4. **权衡取舍**
   - 性能 vs 成本
   - 简单 vs 可扩展
   - 现在 vs 未来

---

## 初级 vs 高级

### 初级开发者

```
任务：实现一个用户登录功能
思考：怎么写代码？
关注点：语法、框架用法
```

### 高级开发者

```
任务：设计用户认证系统
思考：
- 选什么认证方式？（JWT/Session/OAuth）
- 密码怎么存？（Hash 算法选择）
- 如何处理并发？
- 安全问题怎么考虑？
- 未来扩展性？
```

---

## 系统设计能力包含什么

### 1. 业务理解能力

- 理解产品商业模式
- 理解用户需求
- 理解业务流程

### 2. 技术选型能力

- 了解各技术的优缺点
- 知道什么场景用什么技术
- 能权衡技术决策

### 3. 模块拆分能力

- 把大系统拆成小模块
- 定义模块边界
- 处理模块依赖

### 4. 数据设计能力

- 数据库设计
- API 设计
- 数据流设计

### 5. 预估能力

- 性能预估
- 容量预估
- 成本预估

---

## 如何培养系统设计能力

### 1. 从业务出发

- 理解为什么要这样做
- 了解业务约束
- 思考"为什么不那样做"

### 2. 学习经典模式

- 分层架构
- 微服务架构
- 事件驱动
- CQRS

### 3. 刻意练习

- 画出你负责系统的架构图
- 思考"如果让你重新设计"
- 做技术方案评审

### 4. 看源码/文档

- 学习优秀系统怎么设计
- 理解为什么这样设计
- 积累设计模式

---

## 系统设计面试

### 常见题目

- 设计一个短链接服务
- 设计一个秒杀系统
- 设计一个消息队列
- 设计一个分布式 ID 生成器
- 设计一个搜索建议功能

### 回答框架

```
1. 需求澄清
   - 确认功能范围
   - 确认约束条件
   - 确认性能要求

2. 顶层设计
   - 画出主要组件
   - 数据流向
   - API 设计

3. 核心模块设计
   - 详细设计关键模块
   - 数据模型
   - 算法/逻辑

4. 扩展性考虑
   - 数据量增长
   - 功能扩展
   - 高可用

5. 监控/运维
   - 日志
   - 告警
   - 降级
```

---

## AI 时代的设计

### AI 能帮什么

- 生成设计草图
- 提供技术选型建议
- 给出最佳实践
- 解释经典模式

### AI 不能帮什么

- 理解你的具体业务
- 权衡你特有的约束
- 预判你未来的需求
- 处理团队政治

---

## 行动建议

### 初级工程师

1. **多问为什么**：不只是实现，要理解为什么
2. **参与设计讨论**：即使只是听
3. **画架构图**：把自己负责的部分画出来
4. **学习经典模式**：DDD、微服务等

### 中级工程师

1. **主动做设计**：不要等别人给方案
2. **评审别人方案**：提高设计能力
3. **承担复杂项目**：锻炼设计能力
4. **输出设计文档**：沉淀经验

### 高级工程师

1. **技术决策**：为团队做技术选型
2. **架构演进**：规划系统发展方向
3. **培养新人**：传承设计经验
4. **业务影响**：用技术驱动业务

---

*写代码是技能，系统设计是能力。*
*技能可以教会，能力需要培养。*
